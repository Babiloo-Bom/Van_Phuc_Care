export interface MenuItem {
  path: string;
  label: string;
  icon: string;
  requireAuth?: boolean;
  isExternal?: boolean;
}

// Function to get CRM base URL - must be called in component/composable context
export const getCrmBaseUrl = () => {
  if (import.meta.client) {
    const config = useRuntimeConfig();
    return config.public.baseUrlCrm || 'http://localhost:3101';
  }
  return process.env.BASE_URL_CRM || 'http://localhost:3101';
};

// Group 1: Tất cả khóa học, Khóa học của tôi, Giỏ hàng
export const MENU_GROUP_1: MenuItem[] = [
  {
    path: "/courses",
    label: "Tất cả khóa học",
    icon: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1546_4025)">
            <path d="M14 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2L0 16H16V2C16 1.46957 15.7893 0.960859 15.4142 0.585786C15.0391 0.210714 14.5304 0 14 0V0ZM14.6667 2V3.33333H10V1.33333H14C14.1768 1.33333 14.3464 1.40357 14.4714 1.5286C14.5964 1.65362 14.6667 1.82319 14.6667 2ZM7.33333 1.33333H8.66667V5.33333H7.33333V1.33333ZM2 1.33333H6V3.33333H1.33333V2C1.33333 1.82319 1.40357 1.65362 1.5286 1.5286C1.65362 1.40357 1.82319 1.33333 2 1.33333ZM1.33333 14.6667V4.66667H6V6.66667H10V4.66667H14.6667V14.6667H1.33333ZM10 12H13.3333V13.3333H10V12Z" fill="#020618"/>
            </g>
            <defs>
            <clipPath id="clip0_1546_4025">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
            </svg>
          `,
    requireAuth: false,
  },
  {
    path: "/my-learning",
    label: "Khóa học của tôi",
    icon: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1423_3893)">
            <path d="M15.2813 1.13342C15.0568 0.945238 14.7935 0.808944 14.5103 0.734268C14.227 0.659592 13.9308 0.648375 13.6427 0.701417L9.52267 1.45008C8.9331 1.55639 8.39663 1.85845 8 2.30742C7.60367 1.85771 7.06716 1.55492 6.47733 1.44808L2.35733 0.699417C2.06918 0.647092 1.77305 0.658689 1.48987 0.733389C1.20669 0.808089 0.943372 0.944069 0.718521 1.13172C0.49367 1.31937 0.312775 1.55411 0.188618 1.81936C0.0644604 2.08461 7.11635e-05 2.37388 0 2.66675L0 13.8894L8 15.3448L16 13.8894V2.66675C16 2.3741 15.9357 2.08502 15.8115 1.82003C15.6873 1.55504 15.5063 1.32063 15.2813 1.13342ZM7.33333 13.8668L1.33333 12.7774V2.66675C1.33342 2.56914 1.35493 2.47275 1.39636 2.38437C1.43779 2.29599 1.49811 2.21778 1.57308 2.15528C1.64805 2.09277 1.73583 2.04749 1.83022 2.02263C1.92461 1.99777 2.0233 1.99395 2.11933 2.01142L6.23867 2.76008C6.54588 2.81598 6.82374 2.97793 7.02378 3.21769C7.22383 3.45745 7.33338 3.75982 7.33333 4.07208V13.8668ZM14.6667 12.7761L8.66667 13.8668V4.07208C8.66662 3.75982 8.77617 3.45745 8.97622 3.21769C9.17626 2.97793 9.45412 2.81598 9.76133 2.76008L13.8807 2.01142C13.9767 1.99395 14.0754 1.99777 14.1698 2.02263C14.2642 2.04749 14.352 2.09277 14.4269 2.15528C14.5019 2.21778 14.5622 2.29599 14.6036 2.38437C14.6451 2.47275 14.6666 2.56914 14.6667 2.66675V12.7761Z" fill="#020618"/>
            </g>
            <defs>
            <clipPath id="clip0_1423_3893">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
            </svg>
          `,
    requireAuth: true,
  },
  {
    path: "/cart",
    label: "Giỏ hàng",
    icon: `<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1650_1781)">
            <path d="M16.3721 2.04651H2.89377L2.86512 1.80707C2.80648 1.30937 2.56727 0.850484 2.19283 0.517411C1.81839 0.184338 1.33475 0.000233161 0.833612 0L0 0V1.36434H0.833612C1.0007 1.36436 1.16197 1.42571 1.28683 1.53674C1.41169 1.64777 1.49146 1.80076 1.51101 1.9667L2.59225 11.1542C2.65088 11.6519 2.89009 12.1108 3.26453 12.4438C3.63897 12.7769 4.12261 12.961 4.62375 12.9612H13.6434V11.5969H4.62375C4.45656 11.5969 4.29521 11.5354 4.17033 11.4243C4.04545 11.3131 3.96575 11.1599 3.94636 10.9939L3.85699 10.2326H14.8959L16.3721 2.04651ZM13.7553 8.86822H3.69668L3.05476 3.41085H14.7397L13.7553 8.86822Z" fill="#020618"/>
            <path d="M4.77498 16.3725C5.52849 16.3725 6.13932 15.7616 6.13932 15.0081C6.13932 14.2546 5.52849 13.6438 4.77498 13.6438C4.02148 13.6438 3.41064 14.2546 3.41064 15.0081C3.41064 15.7616 4.02148 16.3725 4.77498 16.3725Z" fill="#020618"/>
            <path d="M11.5968 16.3725C12.3503 16.3725 12.9611 15.7616 12.9611 15.0081C12.9611 14.2546 12.3503 13.6438 11.5968 13.6438C10.8433 13.6438 10.2324 14.2546 10.2324 15.0081C10.2324 15.7616 10.8433 16.3725 11.5968 16.3725Z" fill="#020618"/>
            </g>
            <defs>
            <clipPath id="clip0_1650_1781">
            <rect width="16.3721" height="16.3721" fill="white"/>
            </clipPath>
            </defs>
            </svg>
          `,
    requireAuth: true,
  },
];

// Group 2: Chỉnh sửa thông tin, Lịch sử giao dịch, Sổ sức khỏe điện tử
// These paths are relative - will be prefixed with CRM base URL in component
export const MENU_GROUP_2_PATHS = {
  profile: '/profile',
  transactions: '/transactions',
  healthBook: '',
};

export const MENU_GROUP_2: MenuItem[] = [
  {
    path: '/crm/profile',
    label: "Chỉnh sửa thông tin",
    isExternal: true,
    icon: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1423_3899)">
            <path d="M14 2.66667H10V2C10 1.46957 9.78929 0.960859 9.41421 0.585786C9.03914 0.210714 8.53043 0 8 0C7.46957 0 6.96086 0.210714 6.58579 0.585786C6.21071 0.960859 6 1.46957 6 2V2.66667H2C1.46957 2.66667 0.960859 2.87738 0.585786 3.25245C0.210714 3.62753 0 4.13623 0 4.66667L0 16H16V4.66667C16 4.13623 15.7893 3.62753 15.4142 3.25245C15.0391 2.87738 14.5304 2.66667 14 2.66667ZM7.33333 2C7.33333 1.82319 7.40357 1.65362 7.5286 1.5286C7.65362 1.40357 7.82319 1.33333 8 1.33333C8.17681 1.33333 8.34638 1.40357 8.47141 1.5286C8.59643 1.65362 8.66667 1.82319 8.66667 2V4H7.33333V2ZM14.6667 14.6667H1.33333V4.66667C1.33333 4.48986 1.40357 4.32029 1.5286 4.19526C1.65362 4.07024 1.82319 4 2 4H6V5.33333H10V4H14C14.1768 4 14.3464 4.07024 14.4714 4.19526C14.5964 4.32029 14.6667 4.48986 14.6667 4.66667V14.6667ZM2.66667 13.3333H7.33333V6.66667H2.66667V13.3333ZM4 8H6V12H4V8ZM8.66667 9.33333H13.3333V10.6667H8.66667V9.33333ZM8.66667 6.66667H13.3333V8H8.66667V6.66667ZM8.66667 12H12V13.3333H8.66667V12Z" fill="#020618"/>
            </g>
            <defs>
            <clipPath id="clip0_1423_3899">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
            </svg>
          `,
    requireAuth: true,
  },
  {
    path: '/crm/transactions',
    label: "Lịch sử giao dịch",
    isExternal: true,
    icon: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1423_3902)">
            <path d="M6.66667 16H0V14.6667H6.66667V16ZM5.33333 12H0V13.3333H5.33333V12ZM4 9.33333H0V10.6667H4V9.33333ZM8 0C5.87897 0.00229405 3.84547 0.845885 2.34568 2.34568C0.845885 3.84547 0.00229405 5.87897 0 8H1.33333C1.33333 6.68146 1.72433 5.39253 2.45687 4.2962C3.18941 3.19987 4.2306 2.34539 5.44878 1.8408C6.66695 1.33622 8.0074 1.2042 9.3006 1.46143C10.5938 1.71867 11.7817 2.3536 12.714 3.28595C13.6464 4.21831 14.2813 5.40619 14.5386 6.6994C14.7958 7.9926 14.6638 9.33305 14.1592 10.5512C13.6546 11.7694 12.8001 12.8106 11.7038 13.5431C10.6075 14.2757 9.31854 14.6667 8 14.6667V16C10.1217 16 12.1566 15.1571 13.6569 13.6569C15.1571 12.1566 16 10.1217 16 8C16 5.87827 15.1571 3.84344 13.6569 2.34315C12.1566 0.842855 10.1217 0 8 0V0ZM7.33333 4.66667V8.276L9.52867 10.4713L10.4713 9.52867L8.66667 7.724V4.66667H7.33333Z" fill="#020618"/>
            </g>
            <defs>
            <clipPath id="clip0_1423_3902">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
            </svg>
          `,
    requireAuth: true,
  },
  {
    path: '/crm',
    label: "Sổ sức khỏe điện tử",
    isExternal: true,
    icon: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1423_3906)">
            <path d="M13.3332 0H1.99984V2H0.666504V3.33333H1.99984V4.66667H0.666504V6H1.99984V7.33333H0.666504V8.66667H1.99984V10H0.666504V11.3333H1.99984V12.6667H0.666504V14H1.99984V16H13.3332C13.8636 16 14.3723 15.7893 14.7474 15.4142C15.1225 15.0391 15.3332 14.5304 15.3332 14V2C15.3332 1.46957 15.1225 0.960859 14.7474 0.585786C14.3723 0.210714 13.8636 0 13.3332 0V0ZM13.9998 14C13.9998 14.1768 13.9296 14.3464 13.8046 14.4714C13.6796 14.5964 13.51 14.6667 13.3332 14.6667H3.33317V1.33333H13.3332C13.51 1.33333 13.6796 1.40357 13.8046 1.5286C13.9296 1.65362 13.9998 1.82319 13.9998 2V14ZM8.6665 8C9.06207 8 9.44875 7.8827 9.77765 7.66294C10.1065 7.44318 10.3629 7.13082 10.5143 6.76537C10.6656 6.39991 10.7052 5.99778 10.6281 5.60982C10.5509 5.22186 10.3604 4.86549 10.0807 4.58579C9.80101 4.30608 9.44465 4.1156 9.05668 4.03843C8.66872 3.96126 8.26659 4.00087 7.90114 4.15224C7.53569 4.30362 7.22333 4.55996 7.00356 4.88886C6.7838 5.21776 6.6665 5.60444 6.6665 6C6.6665 6.53043 6.87722 7.03914 7.25229 7.41421C7.62736 7.78929 8.13607 8 8.6665 8ZM11.9998 10.6667V12H10.6665V10.6667C10.6665 10.4899 10.5963 10.3203 10.4712 10.1953C10.3462 10.0702 10.1766 10 9.99984 10H7.33317C7.15636 10 6.98679 10.0702 6.86177 10.1953C6.73674 10.3203 6.6665 10.4899 6.6665 10.6667V12H5.33317V10.6667C5.33317 10.1362 5.54388 9.62753 5.91896 9.25245C6.29403 8.87738 6.80274 8.66667 7.33317 8.66667H9.99984C10.5303 8.66667 11.039 8.87738 11.4141 9.25245C11.7891 9.62753 11.9998 10.1362 11.9998 10.6667Z" fill="#020618"/>
            </g>
            <defs>
            <clipPath id="clip0_1423_3906">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
            </svg>
          `,
    requireAuth: true,
  },
];

// Combined for backward compatibility
export const MENU_ITEMS: MenuItem[] = [...MENU_GROUP_1, ...MENU_GROUP_2];
